{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Name.js","components/Persons.js","components/axios.js","components/Msg.js","App.js","index.js"],"names":["Filter","text","val","handler","value","onChange","PersonForm","addFun","nameVal","numberVal","nameHandler","numberHandler","onSubmit","type","Name","person","deleteFun","key","id","name","number","onClick","e","Persons","personsList","toFilter","filter","substring","length","toLowerCase","map","url","axios","get","then","response","data","newContact","post","newNumber","put","delete","Msg","msg","style","App","useState","persons","setPersons","newName","setNewName","setNumber","newFilter","setFilter","setMsg","msgStyle","setMSgStyle","useEffect","contactService","contacts","sort","a","b","setColor","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","preventDefault","target","existsPerson","cur","tmpPerson","concat","setTimeout","catch","error","window","alert","confirm","contact","p","ReactDOM","render","document","getElementById"],"mappings":"kNAKeA,EAHA,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,KAAKC,EAAe,EAAfA,IAAIC,EAAW,EAAXA,QACtB,OAAO,2BAAIF,EAAJ,IAAU,2BAAOG,MAAOF,EAAKG,SAAUF,IAAvC,MCYIG,EAbI,SAAC,GAA0D,IAAzDC,EAAwD,EAAxDA,OAAOC,EAAiD,EAAjDA,QAAQC,EAAyC,EAAzCA,UAAWC,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,cAE5D,OAAO,0BAAMC,SAAUL,GACf,sCACQ,2BAAOH,MAAOI,EAASH,SAAUK,KAEzC,wCAAa,2BAAON,MAAOK,EAAWJ,SAAUM,KAChD,6BACE,4BAAQE,KAAK,UAAb,UCJKC,EAJF,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,UACjB,OAAO,wBAAIC,IAAKF,EAAOG,IAAK,4BAAKH,EAAOI,KAAZ,KAAuB,gCAAMJ,EAAOK,QAAY,4BAAI,4BAAQC,QAAS,SAACC,GAAD,OAAKN,EAAUD,EAAOO,KAAvC,aCKvEC,EALC,SAAC,GAAsC,IAArCC,EAAoC,EAApCA,YAAaC,EAAuB,EAAvBA,SAAUT,EAAa,EAAbA,UACtC,OAAQ,+BAAO,+BAAQQ,EAAYE,QAAO,SAACX,GAAD,OAAUA,EAAOI,KAAKQ,UAAU,EAAEF,EAASG,QAAQC,gBAAgBJ,EAASI,iBAChHC,KAAI,SAACf,GAAD,OAAU,kBAAC,EAAD,CAAME,IAAKF,EAAOG,GAAIH,OAAQA,EAAQC,UAAWA,U,gBCHlEe,EAAM,eAsBG,EApBA,kBACXC,IACCC,IAAIF,GACJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiBhB,EAfI,SAACC,GAAD,OACfL,IACCM,KAAKP,EAAKM,GACVH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAYhB,EAVM,SAAClB,EAAIqB,GAAL,OAAmBP,IACnCQ,IADmC,UAC5BT,EAD4B,YACrBb,GAAMqB,GACpBL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQhB,EANO,SAAClB,GAAD,OAClBc,IACCS,OADD,UACWV,EADX,YACkBb,IACjBgB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCfhBM,EAHH,SAAC,GAAD,IAAEC,EAAF,EAAEA,IAAKC,EAAP,EAAOA,MAAP,OACF,OAAND,EAAY,KAAO,uBAAGC,MAAOA,GAASD,ICyH3BE,EAtHH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRC,EADQ,KACCC,EADD,OAEgBF,mBAAS,IAFzB,mBAERG,EAFQ,KAECC,EAFD,OAGiBJ,mBAAS,IAH1B,mBAGRP,EAHQ,KAGGY,EAHH,OAIiBL,mBAAS,IAJ1B,mBAIRM,EAJQ,KAIGC,EAJH,OAKQP,mBAAS,MALjB,mBAKRH,EALQ,KAKHW,EALG,OAMkBR,mBAAS,IAN3B,mBAMRS,EANQ,KAMEC,EANF,KAShBC,qBAAU,WACRC,IACCxB,MAAK,SAAAyB,GAAQ,OAAIX,EAAWW,EAASC,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE1C,KAAO2C,EAAE3C,KAAO,GAAK,WAC5E,IACF,IAAM4C,EAAW,SAACC,GAAD,OACfR,EAAY,CACVQ,MAAOA,EACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,MA8ElB,OACE,6BACE,yCACA,kBAAC,EAAD,CAAK3B,IAAKA,EAAKC,MAAOW,IACtB,8BACE,6BACE,kBAAC,EAAD,CAAQtD,KAAK,oBAAoBC,IAAKkD,EAAWjD,QAjCjC,SAACgB,GACvBA,EAAKoD,iBACLlB,EAAUlC,EAAKqD,OAAOpE,YAkCpB,iDACA,kBAAC,EAAD,CAAaG,OArFC,SAACQ,GACjBA,EAAOwD,iBACP,IAAME,EAAe1B,EAAQrB,QAAO,SAACgD,GAAD,OAAOzB,IAAUyB,EAAIvD,QACnDwD,EAAY,CAAExD,KAAK8B,EAAU7B,OAAOmB,GAC1B,KAAZA,GAA4B,KAAVU,GAAgB,IAAIwB,EAAa7C,OACrD8B,EAA0BiB,GACzBzC,MAAK,SAAAG,GACJW,EAAWD,EAAQ6B,OAAOvC,GAAYuB,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE1C,KAAO2C,EAAE3C,KAAO,GAAK,MAC5E4C,EAAS,SACTT,EAAO,SAAD,OAAUL,IAChB4B,YAAW,WACTvB,EAAO,QACN,KACHJ,EAAW,IACXC,EAAU,OACP2B,OAAM,SAAAC,GACPzB,EAAOyB,MAGO,KAAZxC,GAA4B,KAAVU,EACxB+B,OAAOC,MAAP,mCAEMD,OAAOE,QAAP,UAAkBjC,EAAlB,4EACJS,EAA4Be,EAAa,GAAGvD,GAA5C,2BAAqDuD,EAAa,IAAlE,IAAsErD,OAAOmB,KAC5EL,MAAK,SAAAiD,GACJnC,EAAWD,EAAQjB,KAAI,SAACf,GAAD,OAAUA,EAAOG,KAAKiE,EAAQjE,GAAKH,EAASoE,KAASvB,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE1C,KAAO2C,EAAE3C,KAAO,GAAK,MAClH4C,EAAS,SACTT,EAAO,GAAD,OAAI6B,EAAQhE,KAAZ,kCACN0D,YAAW,WACXvB,EAAO,QACJ,KACHJ,EAAW,IACXC,EAAU,QAqDkB3C,QAASyC,EAASxC,UAAW8B,EAAW7B,YA/CtD,SAACS,GACrBA,EAAKoD,iBACLrB,EAAW/B,EAAKqD,OAAOpE,QA6C+EO,cA1ChF,SAACS,GACvBA,EAAOmD,iBACPpB,EAAU/B,EAAOoD,OAAOpE,UAyCtB,uCACA,6BACE,kBAAC,EAAD,CAASoB,YAAauB,EAAStB,SAAU2B,EAAWpC,UAnCrC,SAACD,GAChBiE,OAAOE,QAAP,iBAAyBnE,EAAOI,KAAhC,OACFuC,EAA6B3C,EAAOG,IACnCgB,MAAK,SAAAf,GACJ6B,EAAWD,EAAQrB,QAAO,SAACyD,GAAD,OAAaA,EAAQjE,KAAOH,EAAOG,MAAI0C,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE1C,KAAO2C,EAAE3C,KAAO,GAAK,MACvG4C,EAAS,SACTT,EAAO,GAAD,OAAIvC,EAAOI,KAAX,iBACN0D,YAAW,WACTvB,EAAO,QACN,QAEJwB,OAAM,SAAAC,GACLhB,EAAS,OACTT,EAAO,kBAAD,OAAmBvC,EAAOI,KAA1B,qCACN0D,YAAW,WACTvB,EAAO,QACN,KACHN,EAAWD,EAAQrB,QAAO,SAAA0D,GAAC,OAAIA,EAAElE,KAAOH,EAAOG,gB,MChGvDmE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.5f66ffb9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({text,val,handler})=>{\r\n    return(<p>{text} <input value={val} onChange={handler} /> </p>)\r\n}\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addFun,nameVal,numberVal, nameHandler, numberHandler})=>{\r\n    \r\nreturn(<form onSubmit={addFun}>\r\n        <div>\r\n          name: <input value={nameVal} onChange={nameHandler} />\r\n        </div>\r\n        <div>number: <input value={numberVal} onChange={numberHandler} /></div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>)\r\n}\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Name = ({person, deleteFun})=>{\r\n      return(<tr key={person.id} ><td>{person.name} </td><td> {person.number}</td><td><button onClick={(e)=>deleteFun(person,e)} >delete</button></td></tr>)\r\n  }\r\n\r\nexport default Name\r\n\r\n","import React from 'react';\r\nimport Name from './Name'\r\n\r\nconst Persons = ({personsList, toFilter, deleteFun})=>{\r\n   return (<table><tbody>{personsList.filter((person)=>person.name.substring(0,toFilter.length).toLowerCase()===toFilter.toLowerCase())\r\n        .map((person)=><Name key={person.id} person={person} deleteFun={deleteFun} />)}</tbody></table>)\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst url = '/api/persons'\r\n\r\nconst getAll = ()=>\r\n    axios\r\n    .get(url)\r\n    .then(response => response.data)\r\n\r\nconst addContact = (newContact)=>\r\n    axios\r\n    .post(url, newContact)\r\n    .then(response => response.data)\r\n\r\nconst changeNumber = (id, newNumber) => axios\r\n    .put(`${url}/${id}`, newNumber)\r\n    .then(response => response.data)\r\n\r\nconst deleteContact = (id) =>\r\n    axios\r\n    .delete(`${url}/${id}`)\r\n    .then(response => response.data)\r\n    \r\n\r\nexport default {getAll, addContact, changeNumber, deleteContact}","\r\nimport React from 'react'\r\n\r\nconst Msg = ({msg, style})=>\r\n    msg===null? null : <p style={style} >{msg}</p>\r\n\r\nexport default Msg\r\n","import React, { useEffect ,useState } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport contactService from './components/axios'\r\nimport Msg from './components/Msg'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNumber ] = useState('')\r\n  const [ newFilter, setFilter ] = useState('') \r\n  const [ msg, setMsg ] = useState(null)\r\n  const [ msgStyle, setMSgStyle ] = useState('')\r\n\r\n\r\n  useEffect(() => {\r\n    contactService.getAll()\r\n    .then(contacts => setPersons(contacts.sort((a, b) => a.name > b.name ? 1 : -1)))\r\n  },[])\r\n  const setColor = (color) =>\r\n    setMSgStyle({\r\n      color: color,\r\n      background: 'lightgrey',\r\n      fontSize: 20,\r\n      borderStyle: 'solid',\r\n      borderRadius: 5,\r\n      padding: 10,\r\n      marginBottom: 10,\r\n    })\r\n\r\n  const addPerson = (person)=>{\r\n    person.preventDefault()\r\n    const existsPerson = persons.filter((cur)=>newName===cur.name)\r\n    const tmpPerson = { name:newName , number:newNumber}\r\n    if (newNumber!=='' && newName!=='' && 0===existsPerson.length){\r\n      contactService.addContact(tmpPerson)\r\n      .then(newContact =>{\r\n        setPersons(persons.concat(newContact).sort((a, b) => a.name > b.name ? 1 : -1))\r\n        setColor('green')\r\n        setMsg(`Added ${newName}`)\r\n        setTimeout(() => {\r\n          setMsg(null)\r\n        }, 5000)\r\n        setNewName('')\r\n        setNumber('')\r\n        }).catch(error =>{\r\n          setMsg(error)\r\n        })\r\n    }\r\n    else if(newNumber==='' || newName===''){\r\n      window.alert(`please put all the contact info`)\r\n    }\r\n    else if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n        contactService.changeNumber(existsPerson[0].id, { ...existsPerson[0], number:newNumber})\r\n        .then(contact => {\r\n          setPersons(persons.map((person)=>person.id!==contact.id ? person : contact).sort((a, b) => a.name > b.name ? 1 : -1))\r\n          setColor('green')\r\n          setMsg(`${contact.name} was update with a new number`)\r\n          setTimeout(() => {\r\n          setMsg(null)\r\n          }, 5000)\r\n          setNewName('')\r\n          setNumber('')\r\n        })\r\n    }\r\n    \r\n  }\r\n\r\n  const handleNewName = (name)=>{\r\n    name.preventDefault()\r\n    setNewName(name.target.value)\r\n  }\r\n\r\n  const handleNewNumber = (number)=>{\r\n    number.preventDefault()\r\n    setNumber(number.target.value)\r\n  }\r\n\r\n  const handleNewFilter = (name)=>{\r\n    name.preventDefault()\r\n    setFilter(name.target.value)\r\n  }\r\n  \r\n  const handleDelete = (person) => {\r\n    if (window.confirm(`Delete ${person.name}?`)){\r\n      contactService.deleteContact(person.id)\r\n      .then(name=>{\r\n        setPersons(persons.filter((contact) => contact.id !== person.id).sort((a, b) => a.name > b.name ? 1 : -1))\r\n        setColor('green')\r\n        setMsg(`${person.name} was deleted`)\r\n        setTimeout(() => {\r\n          setMsg(null)\r\n        }, 5000)\r\n      })\r\n      .catch(error => {\r\n        setColor('red')\r\n        setMsg(`Information of ${person.name} has already removed from server`)\r\n        setTimeout(() => {\r\n          setMsg(null)\r\n        }, 5000)\r\n        setPersons(persons.filter(p => p.id !== person.id))\r\n      })\r\n    }\r\n  }\r\n \r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Msg msg={msg} style={msgStyle} />\r\n      <form>\r\n        <div>\r\n          <Filter text=\"filter shown with\" val={newFilter} handler={handleNewFilter} />\r\n        </div>\r\n      </form>\r\n      <h3>add a new contact</h3>\r\n      <PersonForm  addFun={addPerson} nameVal={newName} numberVal={newNumber} nameHandler={handleNewName} numberHandler={handleNewNumber} />\r\n      <h2>Numbers</h2>\r\n      <div>\r\n        <Persons personsList={persons} toFilter={newFilter} deleteFun={handleDelete} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}